@model List<SecondHandMarket.ViewModels.IndexCategoryViewModel>
@{
  ViewBag.Title = "商品分类";
}
<h1>商品分类</h1>
<a href="#addCategory" role="button" class="btn btn-primary" data-toggle="modal">
  <i class="icon-plus icon-white"></i>新建商品类别</a>
<div id="addCategory" class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>新增商品类别</h3>
  </div>
  <div class="modal-body">
    <label>商品类别</label>
    <input type="text" />
  </div>
  <div class="modal-footer form-actions">
      <a href="#" role="button" class="btn btn-primary">保存</a>
      <a href="#" role="button" class="btn">取消</a>
  </div>
</div>
<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>商品类别</th>
      <th>子类别</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    @foreach (var vm in Model)
    {
      <tr>
        <td>@vm.Name</td>
        <td>@String.Join("、", vm.SubCategories.Select(c => c.Name))</td>
        <td>
          <div class="btn-group">
            @*<a href="@Url.Action("SubList","Category")?pid=@vm.Id" class ="btn btn-mini"><i class="icon-pencil"></i>维护子类别</a>*@
            <a href="#addSubCategory" class="btn btn-mini" data-toggle="modal">
              <i class="icon-pencil"></i>维护子类别</a>
            <button class="btn btn-mini btn-danger">
              <i class="icon-remove"></i>删除</button>
          </div>
        </td>
      </tr>
    }
  </tbody>
</table>
<div id="addSubCategory" class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>维护子类别</h3>
  </div>
  <div class="modal-body">
    <label>子类别</label>
    <textarea rows="3"></textarea>
  </div>
  <div class="modal-footer form-actions">
    <a href="#" role="button" class="btn btn-primary">保存</a>
    <a href="#" role="button" class="btn">取消</a>
  </div>
</div>
